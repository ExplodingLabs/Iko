%syntax-version=1.0.0
%project=myapp

create_pgcrypto_extension 2025-05-22T06:34:15Z sqitch <sqitch@a29adb1c4569> # 'Create pgcrypto extension'
create_api_schema 2025-05-22T06:34:15Z sqitch <sqitch@a29adb1c4569> # 'Create api schema'
comment_schema_api 2025-05-22T06:34:16Z sqitch <sqitch@a29adb1c4569> # 'Comment on schema api'
create_customer_table 2025-05-22T06:34:17Z sqitch <sqitch@a29adb1c4569> # 'Create customer table'
create_api_customer_table 2025-05-22T06:34:18Z sqitch <sqitch@a29adb1c4569> # 'Create api.customer table'
create_movie_table 2025-05-22T06:34:18Z sqitch <sqitch@a29adb1c4569> # 'Add movie table'
create_api_movie_table 2025-05-22T06:34:19Z sqitch <sqitch@a29adb1c4569> # 'Add api.movie table'
create_myfunc_function 2025-05-22T06:34:19Z sqitch <sqitch@a29adb1c4569> # 'Add myfunc function'
create_api_myfunc_function 2025-05-22T06:34:19Z sqitch <sqitch@a29adb1c4569> # 'Add api.myfunc function'
create_update_function 2025-05-22T06:34:20Z sqitch <sqitch@a29adb1c4569> # 'Add update function'
create_api_update_function 2025-05-22T06:34:20Z sqitch <sqitch@a29adb1c4569> # 'Add api.update function'
create_update_customer_trigger_on_customer 2025-05-22T06:34:21Z sqitch <sqitch@a29adb1c4569> # 'Add update_customer trigger on customer'
create_update_api_customer_trigger_on_api_customer 2025-05-22T06:34:21Z sqitch <sqitch@a29adb1c4569> # 'Add update_api_customer trigger on api.customer'
create_modify_customer_trigger_on_customer 2025-05-22T06:34:22Z sqitch <sqitch@a29adb1c4569> # 'Add modify_customer trigger on customer'
create_modify_api_customer_trigger_on_api_customer 2025-05-22T06:34:22Z sqitch <sqitch@a29adb1c4569> # 'Add modify_api_customer trigger on api.customer'
create_authenticator_role 2025-05-22T06:34:23Z sqitch <sqitch@a29adb1c4569> # 'Create authenticator role'
create_api_user_role 2025-05-22T06:34:23Z sqitch <sqitch@a29adb1c4569> # 'Create api_user role'
grant_api_schema_usage_to_api_user 2025-05-22T06:34:23Z sqitch <sqitch@a29adb1c4569> # 'Grant api schema usage to api_user'
grant_execute_myfunc_to_api_user 2025-05-22T06:34:24Z sqitch <sqitch@a29adb1c4569> # 'Grant execute myfunc to api_user'
grant_execute_api_myfunc_to_api_user 2025-05-22T06:34:24Z sqitch <sqitch@a29adb1c4569> # 'Grant execute api.myfunc to api_user'
grant_authenticator_membership_to_api_user 2025-05-22T06:34:25Z sqitch <sqitch@a29adb1c4569> # 'Grant authenticator membership to api_user'
grant_select_on_customer_table_to_api_user 2025-05-22T06:34:25Z sqitch <sqitch@a29adb1c4569> # 'Grant select on customer table to api_user'
grant_select_on_api_customer_table_to_api_user 2025-05-22T06:34:26Z sqitch <sqitch@a29adb1c4569> # 'Grant select on api.customer table to api_user'
